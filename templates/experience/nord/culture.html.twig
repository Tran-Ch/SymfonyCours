{% extends 'base.html.twig' %}

{% block title %}Culture du Nord{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <style>
    main {
      margin-top: 130px;
      padding: 40px 20px 60px 20px;
      background-color: #d4c095;
    }

    .grid-page { max-width: 1200px; margin: 0 auto; }

    .grid-page-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }

    .grid-page-header h1 {
      font-size: 26px;
      color: #5c3a1c;
      margin: 0;
    }

    /* Đoạn mô tả dưới tiêu đề */
    .grid-page-intro {
      font-size: 14px;
      line-height: 1.6;
      color: #3d4a27;
      margin-bottom: 24px;
    }

    .grid-wrapper {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      grid-auto-rows: minmax(220px, auto);
      gap: 20px;
    }

    .grid-card {
      background-color: #e5e39b;
      border-radius: 14px;
      padding: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
      display: flex;
      flex-direction: column;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .grid-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.18);
    }

    .grid-card-title {
      font-weight: bold;
      margin-bottom: 8px;
      font-size: 16px;
      color: #3d4a27;
      min-height: 48px;   /* cố định chiều cao như incroyable.html.twig */
      display: flex;
      align-items: center; /* căn giữa theo chiều dọc */
    }

    /* Ảnh dưới title */
    .grid-card-image {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 8px;
    }

    .grid-card-text {
      font-size: 13px;
      color: #334;
      flex-grow: 1;
    }

    .grid-card-footer {
      font-size: 12px;
      color: #566;
      margin-top: 8px;
      text-align: right;
    }

    @media (max-width: 992px) {
      .grid-wrapper {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 576px) {
      main {
        margin-top: 110px;
        padding: 25px 10px 40px 10px;
      }
      .grid-wrapper {
        grid-template-columns: 1fr;
      }
    }
  </style>
{% endblock %}

{% block body %}
  <section class="grid-page">
    <div class="grid-page-header">
      <h1>DÉCOUVREZ LA CULTURE DU NORD</h1>
      <a href="{{ path('app_nord') }}" class="btn btn-long">← Retour à la carte du Nord</a>
    </div>

    <p class="grid-page-intro">
      Le Nord du Vietnam est une mosaïque de cultures et de traditions préservées. 
      Chaque ethnie apporte sa touche unique à travers ses vêtements, ses fêtes, 
      son artisanat et sa cuisine. Plongez au cœur de ces traditions millénaires 
      et découvrez un patrimoine culturel d'une richesse exceptionnelle.
    </p>

    <div class="grid-wrapper">
      {# 1) Si on a des spots depuis le contrôleur #}
      {% if spots is defined and spots|length > 0 %}
        {% for spot in spots %}
          <article class="grid-card"
                  onclick="window.location='{{ path('app_experience_spot_show', {slug: spot.slug}) }}'">
            <div class="grid-card-title">
              {{ spot.title }}
            </div>

            <img
              src="{{ asset('Image/bac/' ~ spot.imageFilename) }}"
              alt="{{ spot.title }}"
              class="grid-card-image"
            >

            <div class="grid-card-text">
              {{ spot.shortDescription|slice(0, 260)|nl2br }}{% if spot.shortDescription|length > 260 %}…{% endif %}
            </div>

            <div class="grid-card-footer">
              ♥ {{ spot.likesCount }} likes – {{ spot.comments|length }} comments
            </div>
          </article>
        {% endfor %}
      
      {# 2) Fallback sur le contenu statique si pas de données #}
      {% else %}
        {% set items = [
          {
            'title': 'Marché de Bac Hà – La palette colorée des minorités',
            'image': 'bac-ha-market.jpg',
            'text': "Chaque dimanche, le marché de Bac Hà s'anime d'une effervescence unique. 
  Les femmes H'mong, Dao, Tày et Nùng viennent y vendre leurs produits dans une explosion de couleurs. 
  C'est bien plus qu'un lieu d'échange : c'est une véritable scène sociale où se mêlent rires, négociations et retrouvailles. 
  Ici, l'artisanat traditionnel côtoie les saveurs locales, offrant un spectacle vivant de la culture montagnarde."
          },
          {
            'title': 'Sapa – Les rizières en terrasses des H’mong',
            'image': 'sapa-culture.jpg',
            'text': "À Sapa, les rizières en terrasses épousent les montagnes comme une œuvre d'art vivante. 
  Les H'mong, vêtus de leurs habits traditionnels bleu indigo, perpétuent des méthodes de culture ancestrales. 
  Le marché de l'amour, les danses au son du khèn (orgue à bouche) et l'artisanat du chanvre racontent une culture profondément liée à la terre. 
  Ici, chaque geste est empreint de tradition et de respect pour la nature."
          },
          {
            'title': 'Hà Giang – Le royaume des H’mong fleuris',
            'image': 'hagiang-culture.jpg',
            'text': "Dans les montagnes escarpées de Hà Giang, les H'mong fleuris cultivent leur identité à travers des vêtements brodés de motifs complexes. 
  Le marché de l'amour de Khâu Vai, où se retrouvent les amoureux une fois par an, est l'un des rituels les plus émouvants de la région. 
  Les maisons en terre des villages isolés racontent une histoire de résilience et d'harmonie avec la nature."
          },
          {
            'title': 'Mai Châu – La douceur de vivre des Thaï blancs',
            'image': 'maichau-culture.jpg',
            'text': "Mai Châu dévoile la culture raffinée des Thaï blancs. 
  Les femmes tissent la soie sur d'anciens métiers en bois, créant des étoffes aux motifs géométriques élégants. 
  Le xòe, danse traditionnelle au rythme lent, et les maisons sur pilotis entourées de rizières créent une atmosphère paisible. 
  Ici, le temps semble s'écouler au rythme des saisons et des fêtes du calendrier lunaire."
          },
          {
            'title': 'Mù Cang Chải – Le ballet des rizières en terrasses',
            'image': 'mucangchai-culture.jpg',
            'text': "Classées au patrimoine national, les rizières en terrasses de Mù Cang Chải sont le fruit d'un savoir-faire séculaire. 
  Les H'mong y pratiquent une agriculture en parfaite symbiose avec la montagne. 
  Les fêtes du riz, où l'on célèbre les récoltes, sont l'occasion de déguster le rượu cần (alcool de riz à siroter avec une paille de bambou) et d'admirer les danses au son des khèn. 
  Ici, l'agriculture devient un patrimoine vivant."
          },
          {
            'title': 'Ninh Bình – Le berceau de la culture vietnamienne',
            'image': 'ninhbinh-culture.jpg',
            'text': "Ninh Bình est un véritable musée à ciel ouvert de la culture vietnamienne. 
  L'ancienne capitale Hoa Lư abrite des temples dédiés aux rois Dinh et Lê, témoins de l'indépendance du pays. 
  Les spectacles de chant xẩm, art populaire classé par l'UNESCO, résonnent dans les grottes. 
  Les artisans perpétuent la broderie de Kim Sơn, tandis que les barques en bambou glissent sur les rivières entre les pitons calcaires. 
  Un voyage au cœur de l'âme vietnamienne."
          },
          {
            'title': 'Lào Cai – La diversité ethnique à ciel ouvert',
            'image': 'laocai-culture.jpg',
            'text': "La province de Lào Cai est un kaléidoscope de cultures avec plus de 20 groupes ethniques. 
  Chaque communauté, des Dao rouges aux Giáy en passant par les Xa Pho, préserve jalousement ses traditions. 
  Les marchés ethniques comme celui de Cốc Ly ou de Cán Cấu offrent un spectacle haut en couleur, où se mêlent les langues, les costumes et les saveurs. 
  Les fêtes traditionnelles, comme la danse du feu des Dao, plongent les visiteurs dans un univers mystique et authentique."
          },
          {
            'title': 'Yên Bái – L'héritage des Tày et des Dao',
            'image': 'yenbai-culture.jpg',
            'text': "Yên Bái révèle la richesse culturelle des Tày et des Dao à travers leurs villages traditionnels. 
  Les maisons sur pilotis des Tày s'ouvrent sur des paysages de théiers centenaires, tandis que les femmes Dao rouges pratiquent encore la cueillette des herbes médicinales. 
  Le marché de Mù Cang Chải et ses démonstrations de tissage, ainsi que les cérémonies de passage à l'âge adulte des jeunes filles Dao, offrent un aperçu fascinant de traditions séculaires. 
  Ici, chaque geste est porteur d'histoire et de sens."
          }
        ] %}

        {% for item in items %}
          <article class="grid-card">
            <div class="grid-card-title">{{ item.title }}</div>

            <img
              src="{{ asset('Image/bac/' ~ item.image) }}"
              alt="{{ item.title }}"
              class="grid-card-image"
            >

            <div class="grid-card-text">
              {{ item.text|nl2br }}
            </div>

            <div class="grid-card-footer">
              ♥ 1.2k likes – 45 comments
            </div>
          </article>
        {% endfor %}
      {% endif %}
    </div>
  </section>
{% endblock %}
